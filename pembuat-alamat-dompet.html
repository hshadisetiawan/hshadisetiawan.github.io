<!DOCTYPE html>
<html lang="id">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	
	<title>Pembuat Alamat Dompet - Hadi Setiawan</title>
	<meta name="description" content="Pembuat alamat dompet adalah alat sumber terbuka yang menggunakan peramban web Anda untuk menghasilkan alamat dompet." />
	<meta name="keywords" content="Hadi Setiawan, Kang Aan Wasi, aanwhs, konten, pembuat alamat dompet, wallet address generator">
	<meta name="author" content="Hadi Setiawan" />
	<meta name="robots" content="index,follow">

	<link rel="icon" type="image/x-icon" href="">
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
	<script src="https://cdnjs.cloudflare.com/ajax/libs/ethers/6.13.5/ethers.umd.min.js" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

	<style>
		body {
			font-family: Lato, sans-serif;
			background-color: silver;
			font-size: clamp(16px, 5vw, 18px);
			padding-bottom: 7rem !important;
		}
		h1, h2, h3, h4, h5, h6 {
			font-weight: bold;
		}
	</style>
</head>
<body>

	<div class="container p-5 text-center bg-white">
		<h1 onclick="Home_Page()">Hadi Setiawan</h1>
	</div>

	<div id="EnterToGenerateWalletAddress" class="container mt-5 bg-white p-4 rounded shadow">
		<h2 class="text-center mb-4">Pembuat Alamat Dompet</h2>

		<div class="input-group mb-3">
			<span class="input-group-text">Jumlah Kata Mnemonic</span>
			<select class="form-select" id="SelectWordCount">
				<option value="12" selected>12</option>
				<option value="15">15</option>
				<option value="18">18</option>
				<option value="21">21</option>
				<option value="24">24</option>
			</select>
		</div>

		<div class="input-group mb-3">
			<span class="input-group-text">Kata Sandi</span>
			<input type="password" class="form-control" id="SetPassword">
		</div>

		<div class="form-check mb-3">
			<input class="form-check-input" type="checkbox" id="ShowSetPassword" onclick="ShowSetPassword()">
			<label class="form-check-label" for="ShowSetPassword">Lihat Kata Sandi</label>
		</div>

		<div class="input-group mb-3">
			<span class="input-group-text">Jumlah Alamat Dompet</span>
			<input type="number" class="form-control" id="SetNumberOfWalletAddresses" min="1" max="250" value="1">
		</div>

		<button class="btn btn-primary w-100" onclick="GenerateWalletAddress()">Buat Alamat Dompet</button>
	</div>

	<div id="WalletAddressResult" class="container mt-5 bg-white p-4 rounded shadow" style="display:none;">
		<h2>Alamat Dompet Yang Dihasilkan</h2>

		<div class="input-group mb-3">
			<span class="input-group-text">Mnemonic</span>
			<input type="text" class="form-control" id="EthersUtilsEntropyToMnemonic" readonly>
		</div>

		<div class="input-group mb-3">
			<span class="input-group-text">Kata Sandi</span>
			<input type="password" class="form-control" id="Password" readonly>
		</div>

		<div class="form-check mb-3">
			<input class="form-check-input" type="checkbox" id="ShowPassword" onclick="ShowPassword()">
			<label class="form-check-label" for="ShowPassword">Lihat Kata Sandi</label>
		</div>

		<div class="input-group mb-3">
			<span class="input-group-text">Path</span>
			<input type="text" class="form-control" id="DerivedNodePath" readonly>
		</div>

		<div class="table-responsive">
			<table class="table table-bordered table-hover">
				<thead class="table-dark">
					<tr>
						<th>#</th>
						<th>Private Key</th>
						<th>Public Key</th>
						<th>Address</th>
					</tr>
				</thead>
				<tbody id="MultipleWallets"></tbody>
			</table>
		</div>
	</div>

	<!-- SCRIPTS -->
	<script>
		function ShowSetPassword() {
			const el = document.getElementById('SetPassword')
			el.type = (el.type === 'password') ? 'text' : 'password'
		}

		function ShowPassword() {
			const el = document.getElementById('Password')
			el.type = (el.type === 'password') ? 'text' : 'password'
		}

		function RandomCharacter(length) {
			const chars = 'ABCDEFabcdef0123456789'
			let result = ''
			for (let i = 0; i < length; i++) {
				result += chars.charAt(Math.floor(Math.random() * chars.length))
			}
			return result
		}

		function B64Encode(string) {
			return btoa(string)
		}

		function GenerateWalletAddress() {
			document.getElementById('WalletAddressResult').style.display = 'block'
			document.getElementById('EnterToGenerateWalletAddress').style.display = 'none'
			document.getElementById('MultipleWallets').innerHTML = ''

			let wordCount = parseInt(document.getElementById('SelectWordCount').value)
			let byteCount = 24
			switch (wordCount) {
				case 12: byteCount = 16; break
				case 15: byteCount = 20; break
				case 18: byteCount = 24; break
				case 21: byteCount = 28; break
				case 24: byteCount = 32; break
			}

			const entropy = ethers.utils.randomBytes(byteCount)
			const mnemonic = ethers.utils.entropyToMnemonic(entropy)
			document.getElementById('EthersUtilsEntropyToMnemonic').value = mnemonic

			let password = document.getElementById('SetPassword').value
			if (!password) {
				password = B64Encode('0x' + byteCount + RandomCharacter(8))
			}
			document.getElementById('Password').value = password

			const root = ethers.utils.HDNode.fromMnemonic(mnemonic, password)
			const path0 = "m/44'/60'/0'/0/0"
			const node0 = root.derivePath(path0)
			document.getElementById('DerivedNodePath').value = path0

			let count = parseInt(document.getElementById('SetNumberOfWalletAddresses').value)
			if (isNaN(count) || count < 1 || count > 250) count = 1

			const tbody = document.getElementById('MultipleWallets')
			for (let i = 0; i < count; i++) {
				const path = `m/44'/60'/0'/0/${i}`
				const wallet = root.derivePath(path)
				tbody.innerHTML += `
					<tr>
						<td>${i}</td>
						<td>${wallet.privateKey}</td>
						<td>${wallet.publicKey}</td>
						<td>${wallet.address}</td>
					</tr>
				`
			}
		}
	</script>

</body>
</html>